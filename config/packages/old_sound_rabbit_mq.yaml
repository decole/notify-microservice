old_sound_rabbit_mq:
  connections:
    default:
      url: '%env(RABBITMQ_DSN)%'
      vhost: '/'
      lazy: true
      connection_timeout: 3
      read_write_timeout: 3

      # requires php-amqplib v2.4.1+ and PHP5.4+
      keepalive: false

      # requires php-amqplib v2.4.1+
      heartbeat: 0

      #requires php_sockets.dll
      use_socket: true # default false

#  producers:
#    # use 'old_sound_rabbit_mq.task_producer' service to send data.
#    task:
#      connection:       default
#      exchange_options: { name: 'task', type: direct }

  consumers:
    email:
      connection: default
      exchange_options: { name: '%env(EMAIL_QUEUE)%', type: direct }
      queue_options: { name: '%env(EMAIL_QUEUE)%' }
      callback: consumers.email
